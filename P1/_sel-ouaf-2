FROM debian:bullseye

# Install FRR and useful system tools
RUN apt-get update && apt-get install -y \
    frr frr-pythontools \
    iproute2 iputils-ping net-tools \
    procps \
    && apt-get clean

# Enable daemons
RUN sed -i 's/bgpd=no/bgpd=yes/' /etc/frr/daemons && \
    sed -i 's/ospfd=no/ospfd=yes/' /etc/frr/daemons && \
    sed -i 's/isisd=no/isisd=yes/' /etc/frr/daemons

CMD ["tail -f /dev/null"]
